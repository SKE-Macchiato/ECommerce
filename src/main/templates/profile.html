{% extends 'base.html' %}
{% load static %}

{% block content %}
  <h1><b>User profile</b></h1>
  <hr />
  <br />
  <div class="row col-sm-12">
    <div class="col-sm-2">
      First Name
    </div>
    <div  class="col-sm-10">
      <input id="firstname-input" type="text" class="form-control" value="{{ user.firstname }}" />
    </div>
  </div>
  <br />
  <div class="row col-sm-12">
    <div class="col-sm-2">
      Last Name
    </div>
    <div  class="col-sm-10">
      <input id="lastname-input" type="text" class="form-control" value="{{ user.lastname }}" />
    </div>
  </div>
  <br />
  <div class="row col-sm-12">
    <div class="col-sm-2">
      Email
    </div>
    <div  class="col-sm-10">
      <input id="email-input" type="text" class="form-control" value="{{ user.email }}" />
    </div>
  </div>
  <br />
  <div class="row col-sm-12">
    <div class="col-sm-2">
      Address
    </div>
    <div  class="col-sm-10">
      <input id="address-input" type="text" class="form-control" value="{{ user.address }}"/>
    </div>
  </div>
  <br />
  <div class="row col-sm-12">
    <div class="col-sm-2">
      All orders
    </div>
    <div  class="col-sm-10">
      <a href="{% url 'order_history' %}">Views history</a>
    </div>
  </div>
  <br /><br />
  <a id="submit-btn" class="btn btn-success btn-lg btn-block" href="{% url 'profile' %}">Update</a>
  <script>
    $('#submit-btn').click(function () {
      firstname = $('#firstname-input').val()
      lastname = $('#lastname-input').val()
      email = $('#email-input').val()
      address = $('#address-input').val()
      $.post('/user/', {
        'firstname': firstname,
        'lastname': lastname,
        'email': email,
        'address': address
      })
    })
  </script>
{% endblock %}
